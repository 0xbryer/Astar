<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `ComputeRewardsForDapps` trait in crate `pallet_dapps_staking`."><meta name="keywords" content="rust, rustlang, rust-lang, ComputeRewardsForDapps"><title>pallet_dapps_staking::rewards::ComputeRewardsForDapps - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled ><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc trait"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../pallet_dapps_staking/index.html'><div class='logo-container rust-logo'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Trait ComputeRewardsForDapps</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#required-methods">Required Methods</a><div class="sidebar-links"><a href="#tymethod.compute_reward_for_nominator">compute_reward_for_nominator</a><a href="#tymethod.compute_reward_for_operator">compute_reward_for_operator</a><a href="#tymethod.compute_rewards_for_dapps">compute_rewards_for_dapps</a></div><a class="sidebar-title" href="#implementors">Implementors</a></div><p class='location'><a href='../index.html'>pallet_dapps_staking</a>::<wbr><a href='index.html'>rewards</a></p><script>window.sidebarCurrent = {name: 'ComputeRewardsForDapps', ty: 'trait', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><span class="help-button">?</span>
                <a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#15-36' title='goto source code'>[src]</a></span><span class='in-band'>Trait <a href='../index.html'>pallet_dapps_staking</a>::<wbr><a href='index.html'>rewards</a>::<wbr><a class="trait" href=''>ComputeRewardsForDapps</a></span></h1><div class="docblock type-decl hidden-by-usual-hider"><pre class='rust trait'>pub trait ComputeRewardsForDapps {
    fn <a href='#tymethod.compute_rewards_for_dapps' class='fnname'>compute_rewards_for_dapps</a>&lt;N&gt;(total_dapps_rewards: N) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>N, N<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a><br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;</span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.compute_reward_for_nominator' class='fnname'>compute_reward_for_nominator</a>&lt;N&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nominate_total: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total_staked: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nominators_reward: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;staked_values: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>N, N<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; N<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;</span>;
<div class='item-spacer'></div>    fn <a href='#tymethod.compute_reward_for_operator' class='fnname'>compute_reward_for_operator</a>&lt;N&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;staked_operator: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;total_staked: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;operators_reward: N<br>&nbsp;&nbsp;&nbsp;&nbsp;) -&gt; N<br>&nbsp;&nbsp;&nbsp; <span class="where">where<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;</span>;
}</pre></div><div class='docblock'><p>Compute reards for dapps from total dapps rewards to operators and nominators.</p>
</div>
            <h2 id='required-methods' class='small-section-header'>Required methods<a href='#required-methods' class='anchor'></a></h2><div class='methods'><h3 id='tymethod.compute_rewards_for_dapps' class='method'><code>fn <a href='#tymethod.compute_rewards_for_dapps' class='fnname'>compute_rewards_for_dapps</a>&lt;N&gt;(total_dapps_rewards: N) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>N, N<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code></h3><h3 id='tymethod.compute_reward_for_nominator' class='method'><code>fn <a href='#tymethod.compute_reward_for_nominator' class='fnname'>compute_reward_for_nominator</a>&lt;N&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;nominate_total: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;total_staked: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;nominators_reward: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;staked_values: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>N, N<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;<br>) -&gt; N <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code></h3><h3 id='tymethod.compute_reward_for_operator' class='method'><code>fn <a href='#tymethod.compute_reward_for_operator' class='fnname'>compute_reward_for_operator</a>&lt;N&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;staked_operator: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;total_staked: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;operators_reward: N<br>) -&gt; N <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code></h3></div><span class='loading-content'>Loading content...</span>
            <h2 id='implementors' class='small-section-header'>Implementors<a href='#implementors' class='anchor'></a></h2><div class='item-list' id='implementors-list'><h3 id='impl-ComputeRewardsForDapps' class='impl'><code class='in-band'>impl ComputeRewardsForDapps for <a class="struct" href="../../pallet_dapps_staking/rewards/struct.BasedComputeRewardsForDapps.html" title="struct pallet_dapps_staking::rewards::BasedComputeRewardsForDapps">BasedComputeRewardsForDapps</a></code><a href='#impl-ComputeRewardsForDapps' class='anchor'></a><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#42-74' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.compute_rewards_for_dapps' class="method hidden"><code>fn <a href='#method.compute_rewards_for_dapps' class='fnname'>compute_rewards_for_dapps</a>&lt;N&gt;(total_dapps_rewards: N) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>N, N<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#43-54' title='goto source code'>[src]</a></h4><h4 id='method.compute_reward_for_nominator' class="method hidden"><code>fn <a href='#method.compute_reward_for_nominator' class='fnname'>compute_reward_for_nominator</a>&lt;N&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;nominate_total: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;total_staked: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;nominators_reward: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;_: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>N, N<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;<br>) -&gt; N <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#56-66' title='goto source code'>[src]</a></h4><h4 id='method.compute_reward_for_operator' class="method hidden"><code>fn <a href='#method.compute_reward_for_operator' class='fnname'>compute_reward_for_operator</a>&lt;N&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;staked_operator: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;total_staked: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;operators_reward: N<br>) -&gt; N <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#68-73' title='goto source code'>[src]</a></h4></div><h3 id='impl-ComputeRewardsForDapps-1' class='impl'><code class='in-band'>impl ComputeRewardsForDapps for <a class="struct" href="../../pallet_dapps_staking/rewards/struct.VoidableRewardsForDapps.html" title="struct pallet_dapps_staking::rewards::VoidableRewardsForDapps">VoidableRewardsForDapps</a></code><a href='#impl-ComputeRewardsForDapps-1' class='anchor'></a><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#78-135' title='goto source code'>[src]</a></h3><div class='impl-items'><h4 id='method.compute_rewards_for_dapps-1' class="method"><code>fn <a href='#method.compute_rewards_for_dapps-1' class='fnname'>compute_rewards_for_dapps</a>&lt;N&gt;(total_dapps_rewards: N) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>N, N<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a> <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#80-91' title='goto source code'>[src]</a></h4><div class='docblock'><p>distribute dapps rewards into 50% to operators and the other 50% to nominators</p>
</div><h4 id='method.compute_reward_for_nominator-1' class="method"><code>fn <a href='#method.compute_reward_for_nominator-1' class='fnname'>compute_reward_for_nominator</a>&lt;N&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;_nominate_total: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;total_staked: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;nominators_reward: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;staked_values: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a>N, N<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a>&gt;<br>) -&gt; N <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#101-127' title='goto source code'>[src]</a></h4><div class='docblock'><p>Stakings that are less than 3% of total staking are ignored.
Nominators get paid according to the value of each staking value multiplied by the scaling value
Each scaling value is decided like the more staked contract becomes the fewer value.</p>
<p>If you stake against contract A, which accounts for 10% of the total staking volume,
the scaling value alpha will be -1 * log(10/100)
In addition, multiply the staking value by the coefficient beta (= 0.197).
This is necessary to make alpha*beta closer to 1.0 when the ratio is 3%.</p>
</div><h4 id='method.compute_reward_for_operator-1' class="method hidden"><code>fn <a href='#method.compute_reward_for_operator-1' class='fnname'>compute_reward_for_operator</a>&lt;N&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;staked_operator: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;total_staked: N, <br>&nbsp;&nbsp;&nbsp;&nbsp;operators_reward: N<br>) -&gt; N <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;N: BaseArithmetic + <a class="trait" href="https://docs.rs/num-traits/0.2/num_traits/sign/trait.Unsigned.html" title="trait num_traits::sign::Unsigned">Unsigned</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>&gt;,&nbsp;</span></code><a class='srclink' href='../../src/pallet_dapps_staking/rewards.rs.html#129-134' title='goto source code'>[src]</a></h4></div></div><span class='loading-content'>Loading content...</span><script type="text/javascript" src="../../implementors/pallet_dapps_staking/rewards/trait.ComputeRewardsForDapps.js" async></script></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "pallet_dapps_staking";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>